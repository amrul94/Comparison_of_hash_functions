Фреймворк для тестирования некриптографических хэш-функций

Системные требования для запуска фреймворка:
-	**Платформа**: Linux или WSL (Windows Subsystem for Linux).
-	**Процессор**: AMD или Intel с поддержкой AVX2-инструкций.
-	**Компилятор С++**: GCC (G++) версии 10 или выше с поддержкой стандарта языка C++20.
-	**Система сборки**: Cmake версии 3.16 или выше.
-	**Библиотеки С++**: Boost версии 1.75 или выше.
-	**Интерпретатор Python** версии 3.9 или выше.
-	**Библиотеки Python**: matpotlib, numpy и python-docx.

Для запуска программы фреймворка необходимо выполнить следующие предварительные действия:
1. Загрузить фреймворк с данного репозитория github.
2. Установить компилятор GCС, если не установлен, следуя инструкциям с официального сайта [[Installing GCC](https://gcc.gnu.org/install/)].

   Пример установки GCC на Ubuntu 20.04:
   - Открыть терминал
   - Проверить соответствует ли версия GCC поставляемая с Ubuntu, выполнив команду:
     
     `gcc –version`
   
     Если версия 9-я или ниже, то установить более новую.
   - Добавить PPA в систему выполнив последовательно команды:
      
     `sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test`
     `sudo apt update`
   - Установить сам компилятор:
   
     `sudo apt -y install gcc-snapshot`
     `sudo apt -y install gcc-10`
     `sudo apt -y install g++-10`
   - Сделать GCC-11 версией по умолчанию:

     `sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 60 --slave /usr/bin/g++ g++ /usr/bin/g++-9`

   - Проверить корректность установки:
   
     `gcc –version`
3. Установить Cmake, если не установлен, следуя инструкциям с официального сайта [Cmake install].
Пример установки Cmake на Ubuntu 20.04:
   - Выполнить следующую команду в терминале:
   
     `sudo snap install cmake`
4. Установить библиотеку Boost, выполнив следующие команды:
   - Загрузить архив с необходимой версией Boost выполнив следующую команду в терминале:
   
     `wget -O boost_1_75_0.tar.gz https://sourceforge.net/projects/boost/files/boost/1.75.0/boost_1_75_0.tar.gz/download`
   - Распаковать архив:

     `tar xzvf boost_1_75_0.tar.gz`
   - Запустить скрипт bootstrap.sh:

     `./bootstrap.sh --with-libraries=all --with-toolset=gcc`
   - Скомпилировать библиотеку Boost:
   
     `./b2 toolset=gcc`
   - Выполнить установку Boost:

     `./b2 install`
5. Установить Python, если не установлен или установлена версия ниже 3.9, выполнив следующую команду:

   `sudo apt install python3.9`

   Во время установки необходимо подтвердить установку написав Y и подтвердив нажатием кнопки Enter.
6. Установить дополнительные библиотеки matplotlib, numpy и python-docx:

   `curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py`

   `python3.9 get-pip.py`

   `python3.9 -m pip install matplotlib`

   `python3.9 -m pip install numpy`

   `python3.9 -m pip install python-docx`

После выполнения вышеописанных требований необходимо скомпилировать и запустить фреймворк:
1. Зайти в терминал Linux;
2. Перейти в каталог с программой Hash tests, выполнив команду:

   `cd <путь к каталогу с исходным текстом Hash Test>`

   Вместо треугольных скобок необходимо написать путь в каталог с двойными кавычками, например так:

   `cd "/mnt/e/Amrulla/Programming/C++/Дипломная работа/Thesis work/"`
3. Создать каталог, в который будет осуществляться сборка фреймворка:

   `mkdir build-release`
4. Перейти в созданный каталог:

   `cd build-release`
5. Сконфигурировать проект для сборки:

   `cmake -DCMAKE_BUILD_TYPE=Release ../`
6. Запустить сборку программы:

   `cmake --build .`
7. Запустить скомпилированную программу:

   `./tests`
После выполнения программы в папке *“<каталог программы>/reports/cpp”* будет создана папка с результатами тестов в формате json. 
Чтобы выбрать те тесты, которые нужно провести, необходимо в папке *“<каталог программы>/src/cpp”* в файле main.cpp в функции main изменить переменную test_numbers прописав через запятую те номера тестов, которые необходимо запустить:


    1 – тестирование лавинного эффекта
    2 - тестирование распределения
    3 – тестирование коллизий со случайными блоками данных по 16 байт
    4 – тестирование коллизий со случайными блоками данных по 4 килобайта
    5 – тестирование коллизий с английскими словами
    6 – тестирование коллизий с изображениями
    7 – тестирование скорости хеширования

*Примечание.* Для тестирования функций на устойчивость к коллизиям с хешированием изображений, необходимо в следующем директории: “<каталог программы>/data/images” создать папки 1, 2, …, n, где n – это число ядер в ва-шей системе. В данные папки необходимо загрузить датасеты изображений.

Для отрисовки графиков по результатам тестов необходимо запустить программу на python, которая находится в “<каталог программы>/src/python”. Предварительно перед запуском необходимо поменять две переменные в файле main.py: reports_dir_name и test_numbers. В reports_dir_name необ-ходиом записать название папки, в которой содержаться выполненные тесты. В test_numbers те номера тестов, которые необходимо запустить:

    1 – тестирование лавинного эффекта
    2 – тестирование распределения
    3 – тестирование коллизий с случайными блоками данных
    4 – тестирование коллизий с английскими словами
    5 – тестирование коллизий с изображениями
    6 – тестирование скорости хеширования

После этого необходимо выполнить следующую команду в терминале:

`python3.9 “<каталог программы>/src/python/main.py”`

После выполнения программы в папке *“<каталог программы>/reports/python”* будет создана папка с графиками и таблицами по результатам тестов.
